<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Profile Domain</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: "Yu Gothic", sans-serif;
  background: linear-gradient(120deg, #dff6ff, #fef6ff);
  min-height: 100vh;
  overflow: hidden;
}

/* ===== プロフィール ===== */
.profile {
  position: relative;
  z-index: 2;
  width: 320px;
  margin: 80px auto;
  padding: 25px;
  background: rgba(255,255,255,0.25);
  backdrop-filter: blur(12px);
  border-radius: 20px;
  text-align: center;
  box-shadow: 0 0 30px rgba(0,0,0,0.1);
}

.profile img {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  object-fit: cover;
  margin-bottom: 15px;
}

.profile h1 {
  font-size: 22px;
  margin-bottom: 8px;
}

.profile p {
  font-size: 14px;
  opacity: 0.8;
}

button {
  margin-top: 20px;
  padding: 10px 22px;
  border: none;
  border-radius: 30px;
  background: #3fd0ff;
  color: white;
  font-size: 14px;
  cursor: pointer;
}

/* ===== 時間停止 ===== */
.time-stop * {
  animation-play-state: paused !important;
}

/* ===== 領域展開 ===== */
#domain {
  position: fixed;
  inset: 0;
  display: none;
  z-index: 10;
  background:
    radial-gradient(circle at center,
      rgba(120,220,255,0.9),
      rgba(0,40,80,0.95));
  overflow: hidden;
}

#domain::before {
  content: "";
  position: absolute;
  inset: -50%;
  background: repeating-radial-gradient(
    circle,
    rgba(255,255,255,0.08) 0 2px,
    transparent 2px 10px
  );
  animation: rotateBg 20s linear infinite;
}

@keyframes rotateBg {
  to { transform: rotate(360deg); }
}

/* 無量空処テキスト */
#domainText {
  position: absolute;
  bottom: 8%;
  width: 100%;
  text-align: center;
  font-size: 42px;
  letter-spacing: 8px;
  color: #e6faff;
  text-shadow: 0 0 25px #00eaff;
  font-family:
    "Hiragino Mincho ProN",
    "Yu Mincho",
    "MS Mincho",
    "Noto Serif JP",
    serif;
}

#domainText span {
  display: inline-block;
}

/* ===== ガラス破片 ===== */
#shatter {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 20;
}

.piece {
  position: absolute;
  background: rgba(200,240,255,0.7);
  clip-path: polygon(0 0, 100% 0, 60% 100%, 0 60%);
  animation: fly 1.2s ease-out forwards;
}

@keyframes fly {
  to {
    transform:
      translate(var(--x), var(--y))
      rotate(var(--r))
      scale(0.3);
    opacity: 0;
  }
}

/* 文字破壊 */
.char-break {
  animation: charFly 1.1s ease-out forwards;
}

@keyframes charFly {
  to {
    transform:
      translate(var(--cx), var(--cy))
      rotate(var(--cr))
      scale(0.4);
    opacity: 0;
  }
}

/* ===== 解除後テキスト ===== */
#afterText {
  position: fixed;
  inset: 0;
  display: none;
  z-index: 5;
  align-items: center;
  justify-content: center;
  font-size: 26px;
  font-weight: bold;
  color: #333;
}
</style>
</head>

<body>

<div class="profile">
  <img src="profile.png" alt="プロフィール画像">
  <h1>My Profile</h1>
  <p>ただのプロフィール…のはずだった。</p>
  <button onclick="openDomain()">領域展開</button>
</div>

<div id="domain">
  <div id="domainText">
    <span>無</span><span> </span>
    <span>量</span><span> </span>
    <span>空</span><span> </span>
    <span>処</span>
  </div>
</div>

<div id="shatter"></div>

<div id="afterText">だって、君ぃ、弱いもーん</div>

<script>
const domain = document.getElementById("domain");
const shatter = document.getElementById("shatter");
const afterText = document.getElementById("afterText");

function openDomain() {
  domain.style.display = "block";
  document.body.classList.add("time-stop");
  setTimeout(releaseDomain, 3000);
}

function releaseDomain() {
  createShatter();
  breakDomainText();

  setTimeout(() => {
    domain.style.display = "none";
    afterText.style.display = "flex";
    document.body.classList.remove("time-stop");
    shatter.innerHTML = "";
  }, 1200);
}

function createShatter() {
  for (let i = 0; i < 40; i++) {
    const p = document.createElement("div");
    p.className = "piece";
    const size = Math.random()*40 + 20;
    p.style.width = size + "px";
    p.style.height = size + "px";
    p.style.left = Math.random()*100 + "%";
    p.style.top = Math.random()*100 + "%";
    p.style.setProperty("--x", (Math.random()*800 - 400) + "px");
    p.style.setProperty("--y", (Math.random()*600 - 300) + "px");
    p.style.setProperty("--r", (Math.random()*720 - 360) + "deg");
    shatter.appendChild(p);
  }
}

function breakDomainText() {
  document.querySelectorAll("#domainText span").forEach(c => {
    c.style.setProperty("--cx", (Math.random()*600 - 300) + "px");
    c.style.setProperty("--cy", (Math.random()*400 - 200) + "px");
    c.style.setProperty("--cr", (Math.random()*720 - 360) + "deg");
    c.classList.add("char-break");
  });
}
</script>

</body>
</html>
